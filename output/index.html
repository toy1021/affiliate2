<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日本のテックニュース速報 | 2時間ごとに更新される最新IT情報</title>
    <meta name="description" content="AI・機械学習、Apple製品、プログラミングなど最新テクノロジーニュースを2時間ごとに自動更新。18の主要IT情報源から厳選した記事と関連商品をお届け。SPA対応で快適なブラウジング体験を提供。">
    <meta name="keywords" content="テクノロジーニュース,AI,機械学習,Apple,iPhone,プログラミング,Python,JavaScript,IT速報,ガジェット,SPA,2時間更新,自動収集,RSS,アフィリエイト,Amazon,楽天">
    <meta name="author" content="日本のテックニュース速報">
    <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1,noarchive">
    <meta name="googlebot" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
    <meta name="bingbot" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
    <meta name="language" content="ja">
    <meta name="geo.region" content="JP">
    <meta name="geo.country" content="JP">
    <meta name="revisit-after" content="1 hour">
    <meta name="distribution" content="global">
    <meta name="rating" content="general">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta http-equiv="content-language" content="ja">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#2563eb">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="テックニュース速報">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), payment=()">
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self' https:;
        script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://pagead2.googlesyndication.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        img-src 'self' data: https: http:;
        font-src 'self' https://fonts.gstatic.com;
        connect-src 'self' https://www.google-analytics.com https://analytics.google.com;
        frame-src 'self' https://www.youtube.com https://player.vimeo.com;
        media-src 'self' https:;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        upgrade-insecure-requests;
    ">
    
    <!-- Enhanced SEO Meta Tags -->
    <meta name="news_keywords" content="AI,機械学習,Apple,iPhone,プログラミング,Python,JavaScript,テクノロジー,IT,ガジェット">
    <meta name="article:tag" content="テクノロジーニュース">
    <meta name="article:tag" content="IT業界">
    <meta name="article:tag" content="人工知能">
    <meta name="article:tag" content="Apple製品">
    <meta name="article:tag" content="プログラミング">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="日本のテックニュース速報 | 2時間ごとに更新される最新IT情報">
    <meta property="og:description" content="AI・機械学習、Apple製品、プログラミングなど最新テクノロジーニュースを2時間ごとに自動更新。関連商品も一緒にお届け。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toy1021.github.io/affiliate2/">
    <meta property="og:image" content="https://toy1021.github.io/affiliate2/favicon-192x192.png">
    <meta property="og:image:width" content="192">
    <meta property="og:image:height" content="192">
    <meta property="og:image:type" content="image/png">
    <meta property="og:site_name" content="日本のテックニュース速報">
    <meta property="og:locale" content="ja_JP">
    <meta property="article:publisher" content="https://github.com/toy1021/affiliate2">
    <meta property="article:author" content="日本のテックニュース速報">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="日本のテックニュース速報 | 2時間ごとに更新される最新IT情報">
    <meta name="twitter:description" content="AI・機械学習、Apple製品、プログラミングなど最新テクノロジーニュースを2時間ごとに自動更新。関連商品も一緒にお届け。">
    <meta name="twitter:image" content="https://toy1021.github.io/affiliate2/favicon-192x192.png">
    <meta name="twitter:image:alt" content="日本のテックニュース速報のロゴ - 最新テクノロジー情報をお届け">
    <meta name="twitter:site" content="@tech_news_jp">
    <meta name="twitter:creator" content="@tech_news_jp">
    
    <link rel="canonical" href="https://toy1021.github.io/affiliate2/">
    
    <!-- Performance optimization: Resource hints -->
    <link rel="dns-prefetch" href="//www.googletagmanager.com">
    <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
    <link rel="dns-prefetch" href="//www.amazon.co.jp">
    <link rel="dns-prefetch" href="//affiliate.rakuten.co.jp">
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>
    
    <!-- Critical resource preloading for Core Web Vitals -->
    <link rel="preload" href="articles.json" as="fetch" crossorigin="anonymous">
    <link rel="preload" href="sitemap.xml" as="fetch">
    <link rel="prefetch" href="performance.json">
    <link rel="prefetch" href="sitemap.json">
    <link rel="prefetch" href="news_sitemap.xml">
    <link rel="prefetch" href="sitemap_index.xml">
    
    <!-- Preload critical fonts for faster rendering -->
    <link rel="preload" href="data:font/woff2;base64," as="font" type="font/woff2" crossorigin>
    
    <!-- Module preload for modern browsers -->
    <link rel="modulepreload" href="data:text/javascript;base64,">
    
    <!-- Resource prioritization for better Core Web Vitals -->
    <meta name="priority" content="high">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon" href="favicon.ico">
    
    <!-- Google Analytics with performance optimization -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C8010SR0ZW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-C8010SR0ZW');
    </script>
    
    <!-- Google AdSense - deferred for performance -->
    <script>
        // Defer AdSense loading until page is idle
        function loadAdSense() {
            const script = document.createElement('script');
            script.async = true;
            script.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7886055685797359';
            script.crossOrigin = 'anonymous';
            document.head.appendChild(script);
        }
        
        // Load AdSense after critical content is loaded
        if (window.requestIdleCallback) {
            requestIdleCallback(loadAdSense);
        } else {
            setTimeout(loadAdSense, 2000);
        }
    </script>
    
    <!-- 拡張構造化データ（JSON-LD）- FAQ & HowTo対応 -->
    <script type="application/ld+json">
    [
      {
        "@context": "https://schema.org",
        "@type": "NewsMediaOrganization",
        "name": "日本のテックニュース速報",
        "url": "https://toy1021.github.io/affiliate2/",
        "logo": {
        "@type": "ImageObject",
        "url": "https://toy1021.github.io/affiliate2/favicon-192x192.png",
        "width": 192,
        "height": 192
      },
      "sameAs": [
        "https://github.com/toy1021/affiliate2"
      ],
      "description": "最新のテクノロジーニュースと関連商品をお届け",
      "founder": {
        "@type": "Organization",
        "name": "日本のテックニュース速報"
      },
      "publishingPrinciples": "https://toy1021.github.io/affiliate2/",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "availableLanguage": "Japanese"
      }
    }
    </script>

    <!-- WebSite構造化データ -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "日本のテックニュース速報",
      "url": "https://toy1021.github.io/affiliate2/",
      "description": "最新のテクノロジーニュースと関連商品をお届け",
      "inLanguage": "ja",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://toy1021.github.io/affiliate2/?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "日本のテックニュース速報",
        "logo": {
          "@type": "ImageObject",
          "url": "https://toy1021.github.io/affiliate2/favicon-192x192.png"
        }
      }
    }
    </script>

    <!-- BreadcrumbList構造化データ -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "ホーム",
          "item": "https://toy1021.github.io/affiliate2/"
        }
      ]
    }
    </script>

    <!-- CollectionPage構造化データ - ニュース記事コレクション -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "日本のテックニュース記事一覧",
      "description": "AI・機械学習、Apple製品、プログラミングなど最新テクノロジーニュースの記事一覧。2時間ごとに自動更新で最新情報をお届け。",
      "url": "https://toy1021.github.io/affiliate2/",
      "inLanguage": "ja",
      "isPartOf": {
        "@type": "WebSite",
        "name": "日本のテックニュース速報",
        "url": "https://toy1021.github.io/affiliate2/"
      },
      "mainContentOfPage": {
        "@type": "WebPageElement",
        "cssSelector": ".articles-grid"
      },
      "significantLink": [
        "https://toy1021.github.io/affiliate2/?category=AI・機械学習",
        "https://toy1021.github.io/affiliate2/?category=Apple製品",
        "https://toy1021.github.io/affiliate2/?category=プログラミング"
      ],
      "publisher": {
        "@type": "Organization",
        "name": "日本のテックニュース速報"
      }
    }
    </script>

    <!-- FAQPage構造化データ - よくある質問 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "記事の更新頻度はどのくらいですか？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "当サイトは2時間ごとに18の主要IT情報源からRSSフィードを自動取得し、最新記事を更新しています。GitHub Actionsにより24時間365日自動運用されており、新記事がない場合でも更新時刻は2時間ごとに更新されます。"
          }
        },
        {
          "@type": "Question",
          "name": "どのような情報源から記事を取得していますか？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "日本の主要テクノロジーメディア18サイトからRSSフィードを自動取得しています。CNET Japan、Publickey、Zenn、Qiita、iPhone Maniaなど信頼性の高い情報源から、AI・機械学習、Apple製品、プログラミング、Google・Android、セキュリティなど幅広いカテゴリの最新ニュースを収集しています。"
          }
        },
        {
          "@type": "Question",
          "name": "アフィリエイトリンクについて教えてください。",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "記事に関連する商品やサービスのAmazonアフィリエイトリンクを記事の内容に基づいて自動生成しています。これらのリンクは記事の理解を深めたり、実際に商品を試してみたいユーザーに便利な情報を提供するものです。"
          }
        }
      ]
    }
    </script>

    <!-- Organization構造化データ - 詳細情報 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "日本のテックニュース速報",
      "alternateName": "Tech News Japan",
      "url": "https://toy1021.github.io/affiliate2/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://toy1021.github.io/affiliate2/favicon-192x192.png",
        "width": 192,
        "height": 192
      },
      "description": "日本最大級のテクノロジーニュース自動収集・配信サービス。18の信頼できる情報源からAI・機械学習、Apple製品、プログラミングなど最新IT情報を2時間ごとに自動更新でお届け。",
      "foundingDate": "2025",
      "areaServed": {
        "@type": "Country",
        "name": "Japan"
      },
      "serviceType": "ニュース配信サービス",
      "knowsAbout": [
        "人工知能",
        "機械学習",
        "Apple製品",
        "iPhone",
        "プログラミング",
        "JavaScript",
        "Python",
        "テクノロジーニュース",
        "IT業界動向",
        "ガジェット"
      ],
      "sameAs": [
        "https://github.com/toy1021/affiliate2"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "availableLanguage": ["ja", "Japanese"],
        "areaServed": "JP"
      }
    },
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "テックニュースサイトで最新情報を効率的に取得する方法",
      "description": "日本のテックニュース速報を使って最新IT情報を効率的に取得する手順",
      "totalTime": "PT5M",
      "supply": ["インターネット接続", "ウェブブラウザ"],
      "tool": ["PC", "スマートフォン", "タブレット"],
      "step": [
        {
          "@type": "HowToStep",
          "name": "サイトアクセス",
          "text": "toy1021.github.io/affiliate2/ にアクセスします",
          "image": "https://toy1021.github.io/affiliate2/favicon.ico"
        },
        {
          "@type": "HowToStep", 
          "name": "カテゴリー選択",
          "text": "左サイドバーから興味のあるカテゴリ（AI・機械学習、Apple製品など）を選択します",
          "image": "https://toy1021.github.io/affiliate2/favicon.ico"
        },
        {
          "@type": "HowToStep",
          "name": "記事閲覧",
          "text": "最新記事一覧から気になる記事をクリックして外部サイトで詳細を確認します",
          "image": "https://toy1021.github.io/affiliate2/favicon.ico"
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "テクノロジーニュース検索・フィルタリングページ",
      "description": "日本のテクノロジーニュースを検索・フィルタリングできる高機能ページ",
      "potentialAction": [
        {
          "@type": "SearchAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https://toy1021.github.io/affiliate2/?q={search_term}",
            "actionPlatform": ["http://schema.org/DesktopWebPlatform", "http://schema.org/MobileWebPlatform"]
          },
          "query-input": "required name=search_term"
        },
        {
          "@type": "FilterAction",
          "target": {
            "@type": "EntryPoint", 
            "urlTemplate": "https://toy1021.github.io/affiliate2/?category={category_name}",
            "actionPlatform": ["http://schema.org/DesktopWebPlatform", "http://schema.org/MobileWebPlatform"]
          },
          "query-input": "required name=category_name"
        }
      ]
    }
    ]
    </script>
    
    <!-- Critical CSS inlined for immediate rendering -->
    <style>
        /* Critical above-the-fold styles */
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --border-color: #e5e7eb;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
        }
        
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-secondary);
            font-display: swap;
        }
        
        /* Critical header styles for immediate visibility */
        header {
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        h1 {
            font-size: 1.8rem;
            color: var(--primary-color);
            font-weight: 700;
        }
        
        /* Loading optimization - critical only */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Critical container styles */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
    </style>
    
    <!-- Load non-critical CSS after page render for optimal performance -->
    <script>
        // Load non-critical styles after initial render
        function loadNonCriticalCSS() {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'data:text/css;base64,' + btoa(`
                .container {
                    max-width: 1200px;
                    margin: 0 auto;
                    padding: 0 2rem;
                }
                
                .header-content {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                
                .subtitle {
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    margin-top: 0.2rem;
                }
                
                .update-info {
                    background: var(--bg-primary);
                    padding: 1.5rem;
                    border-radius: 8px;
                    margin: 2rem 0;
                    border: 1px solid var(--border-color);
                }
                
                .update-info p {
                    margin-bottom: 0.5rem;
                    font-size: 0.9rem;
                }
                
                .main-layout {
                    display: grid;
                    grid-template-columns: 1fr 300px;
                    gap: 2rem;
                    margin: 2rem 0;
                }
                
                .main-content {
                    min-width: 0;
                }
                
                .sidebar {
                    background: var(--bg-primary);
                    border: 1px solid var(--border-color);
                    border-radius: 8px;
                    padding: 1.5rem;
                    height: fit-content;
                    position: sticky;
                    top: 120px;
                }
                
                .sidebar h3 {
                    font-size: 1.1rem;
                    margin-bottom: 1rem;
                    color: var(--text-primary);
                    border-bottom: 2px solid var(--primary-color);
                    padding-bottom: 0.5rem;
                }
                
                .sidebar-menu {
                    list-style: none;
                    margin-bottom: 2rem;
                }
                
                .sidebar-menu li {
                    margin-bottom: 0.5rem;
                }
                
                .sidebar-menu a {
                    color: var(--text-secondary);
                    text-decoration: none;
                    display: block;
                    padding: 0.5rem 0.8rem;
                    border-radius: 4px;
                    transition: all 0.2s ease;
                    font-size: 0.9rem;
                }
                
                .sidebar-menu a:hover, .sidebar-menu a.active {
                    background: var(--bg-secondary);
                    color: var(--primary-color);
                }
                
                .source-count, .category-count {
                    color: var(--text-secondary);
                    font-size: 0.75rem;
                    margin-left: 0.3rem;
                }
                
                .reading-time {
                    color: var(--text-secondary);
                    font-size: 0.8rem;
                    background: var(--bg-secondary);
                    padding: 0.2rem 0.5rem;
                    border-radius: 4px;
                    font-weight: 500;
                }
                
                .articles-grid {
                    display: block;
                    margin: 2rem 0;
                }
                
                .article-card {
                    background: var(--bg-primary);
                    padding: 1.5rem;
                    border: 1px solid var(--border-color);
                    border-bottom: none;
                    transition: background-color 0.2s ease;
                }
                
                .article-card:first-child {
                    border-top-left-radius: 8px;
                    border-top-right-radius: 8px;
                }
                
                .article-card:last-child {
                    border-bottom: 1px solid var(--border-color);
                    border-bottom-left-radius: 8px;
                    border-bottom-right-radius: 8px;
                }
                
                .article-card:hover {
                    background: var(--bg-secondary);
                }
                
                .article-meta {
                    display: flex;
                    gap: 1rem;
                    align-items: center;
                    margin-bottom: 1rem;
                    color: var(--text-secondary);
                    font-size: 0.85rem;
                    flex-wrap: wrap;
                }
                
                .article-date {
                    color: var(--primary-color);
                    font-weight: 600;
                    font-size: 0.8rem;
                    background: rgba(37, 99, 235, 0.1);
                    padding: 0.2rem 0.5rem;
                    border-radius: 4px;
                }
                
                .article-source {
                    color: var(--text-secondary);
                    font-size: 0.8rem;
                }
                
                .category-tag {
                    background: var(--primary-color);
                    color: white;
                    padding: 0.3rem 0.8rem;
                    border-radius: 4px;
                    font-size: 0.8rem;
                    font-weight: 600;
                }
                
                .article-title {
                    font-size: 1.1rem;
                    margin-bottom: 0.8rem;
                    line-height: 1.4;
                }
                
                .article-title a {
                    color: var(--text-primary);
                    text-decoration: none;
                    transition: color 0.2s ease;
                }
                
                .article-title a:hover {
                    color: var(--primary-color);
                }
                
                .article-summary {
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    line-height: 1.5;
                    margin-bottom: 1rem;
                }
                
                .pagination {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 1rem;
                    margin: 2rem 0;
                }
                
                .pagination-btn {
                    background: var(--bg-primary);
                    color: var(--primary-color);
                    padding: 0.7rem 1.2rem;
                    border: 1px solid var(--border-color);
                    border-radius: 6px;
                    text-decoration: none;
                    font-weight: 500;
                    transition: all 0.2s ease;
                }
                
                .pagination-btn:hover:not(.disabled) {
                    background: var(--primary-color);
                    color: white;
                }
                
                .pagination-btn.disabled {
                    opacity: 0.5;
                    cursor: not-allowed;
                }
                
                .pagination-btn.active {
                    background: var(--primary-color);
                    color: white;
                    font-weight: 600;
                }
                
                .pagination-info {
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                }
                
                .filters {
                    display: flex;
                    gap: 1rem;
                    margin-bottom: 2rem;
                    align-items: center;
                    flex-wrap: wrap;
                }
                
                .search-container {
                    position: relative;
                    flex: 1;
                    max-width: 300px;
                }
                
                .search-input {
                    width: 100%;
                    padding: 0.5rem 2rem 0.5rem 1rem;
                    border: 1px solid var(--border-color);
                    border-radius: 6px;
                    background: var(--bg-primary);
                    font-size: 0.9rem;
                    transition: all 0.2s ease;
                }
                
                .search-input:focus {
                    outline: none;
                    border-color: var(--primary-color);
                    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
                }
                
                .search-clear {
                    position: absolute;
                    right: 0.5rem;
                    top: 50%;
                    transform: translateY(-50%);
                    background: none;
                    border: none;
                    font-size: 1.2rem;
                    color: var(--text-secondary);
                    cursor: pointer;
                    padding: 0.2rem;
                    border-radius: 50%;
                    line-height: 1;
                }
                
                .search-clear:hover {
                    background: var(--bg-secondary);
                    color: var(--text-primary);
                }
                
                .search-suggestions {
                    position: absolute;
                    top: 100%;
                    left: 0;
                    right: 0;
                    background: var(--bg-primary);
                    border: 1px solid var(--border-color);
                    border-top: none;
                    border-radius: 0 0 6px 6px;
                    max-height: 200px;
                    overflow-y: auto;
                    z-index: 1000;
                    display: none;
                }
                
                .suggestion-item {
                    padding: 0.5rem 1rem;
                    cursor: pointer;
                    border-bottom: 1px solid var(--border-color);
                    font-size: 0.9rem;
                }
                
                .suggestion-item:last-child {
                    border-bottom: none;
                }
                
                .suggestion-item:hover,
                .suggestion-item.highlighted {
                    background: var(--bg-secondary);
                }
                
                .suggestion-category {
                    font-size: 0.75rem;
                    color: var(--text-secondary);
                    margin-left: 0.5rem;
                }
                
                .filter-select {
                    padding: 0.5rem 1rem;
                    border: 1px solid var(--border-color);
                    border-radius: 6px;
                    background: var(--bg-primary);
                    font-size: 0.9rem;
                }
                
                .filter-select:focus {
                    outline: none;
                    border-color: var(--primary-color);
                }
                
                @media (max-width: 768px) {
                    .container {
                        padding: 0 1rem;
                    }
                    .main-layout {
                        grid-template-columns: 1fr;
                        gap: 1rem;
                    }
                    .sidebar {
                        position: static;
                        order: -1;
                    }
                    .article-card {
                        padding: 1rem;
                    }
                    .article-meta {
                        font-size: 0.8rem;
                    }
                    .pagination {
                        flex-direction: column;
                        gap: 0.8rem;
                    }
                }
                .hidden {
                    display: none;
                }
                
                /* Performance optimizations for Core Web Vitals */
                .article-image-container {
                    position: relative;
                    width: 100%;
                    max-width: 300px;
                    height: 200px;
                    margin-bottom: 1rem;
                    overflow: hidden;
                    border-radius: 8px;
                    background: var(--bg-secondary);
                }
                
                .article-image {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    transition: opacity 0.3s ease;
                }
                
                .article-image.lazy-load {
                    opacity: 0;
                    background: linear-gradient(90deg, var(--bg-secondary) 25%, var(--border-color) 50%, var(--bg-secondary) 75%);
                    background-size: 200% 100%;
                    animation: shimmer 1.5s infinite;
                }
                
                .article-image.loaded {
                    opacity: 1;
                    animation: none;
                }
                
                @keyframes shimmer {
                    0% { background-position: -200% 0; }
                    100% { background-position: 200% 0; }
                }
                
                /* Preload critical fonts */
                @font-face {
                    font-family: 'System';
                    src: local('-apple-system'), local('BlinkMacSystemFont'), local('Segoe UI');
                    font-display: swap;
                }
                
                .affiliate-links {
                    margin-top: 1rem;
                    padding-top: 1rem;
                    border-top: 1px solid var(--border-color);
                }
                .affiliate-links-compact {
                    display: flex;
                    gap: 0.5rem;
                    margin-bottom: 0.5rem;
                    flex-wrap: wrap;
                }
                .affiliate-link {
                    background: linear-gradient(135deg, #ff9500, #ff6b00);
                    color: white;
                    padding: 0.4rem 0.8rem;
                    border-radius: 6px;
                    text-decoration: none;
                    font-size: 0.8rem;
                    font-weight: 600;
                    transition: transform 0.2s ease, box-shadow 0.2s ease;
                    box-shadow: 0 2px 4px rgba(255, 149, 0, 0.2);
                    will-change: transform;
                }
                .affiliate-link:hover {
                    transform: translateY(-1px);
                    box-shadow: 0 4px 8px rgba(255, 149, 0, 0.3);
                }
                .amazon-link {
                    background: linear-gradient(135deg, #ff9500, #ff6b00);
                }
                .rakuten-link {
                    background: linear-gradient(135deg, #bf0000, #8b0000);
                }
                
                /* Performance optimizations */
                * {
                    contain: layout style paint;
                }
                
                .article-card {
                    contain: layout style;
                    will-change: background-color;
                }
                
                .pagination-btn {
                    contain: layout style paint;
                }
                
                /* Related Articles Styling */
                .related-articles {
                    margin-top: 1.5rem;
                    padding-top: 1.5rem;
                    border-top: 2px solid var(--border-color);
                }
                
                .related-title {
                    font-size: 1rem;
                    color: var(--primary-color);
                    margin-bottom: 1rem;
                    font-weight: 600;
                }
                
                .related-list {
                    display: flex;
                    flex-direction: column;
                    gap: 0.8rem;
                }
                
                .related-article-link {
                    text-decoration: none;
                    color: inherit;
                    display: block;
                }
                
                .related-article {
                    background: var(--bg-secondary);
                    padding: 0.8rem 1rem;
                    border-radius: 6px;
                    border-left: 3px solid var(--primary-color);
                    transition: all 0.2s ease;
                }
                
                .related-article:hover {
                    background: var(--border-color);
                    transform: translateX(2px);
                }
                
                .related-category {
                    display: inline-block;
                    background: var(--primary-color);
                    color: white;
                    font-size: 0.7rem;
                    padding: 0.2rem 0.5rem;
                    border-radius: 3px;
                    margin-bottom: 0.4rem;
                    font-weight: 500;
                }
                
                .related-article-title {
                    font-size: 0.9rem;
                    font-weight: 500;
                    line-height: 1.3;
                    margin-bottom: 0.3rem;
                    color: var(--text-primary);
                }
                
                .related-source {
                    font-size: 0.75rem;
                    color: var(--text-secondary);
                }
                
                /* Breadcrumb Navigation */
                .breadcrumb {
                    background: var(--bg-primary);
                    padding: 0.8rem 0;
                    border-bottom: 1px solid var(--border-color);
                    font-size: 0.9rem;
                }
                
                .breadcrumb-list {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    list-style: none;
                }
                
                .breadcrumb-item {
                    display: flex;
                    align-items: center;
                }
                
                .breadcrumb-link {
                    color: var(--text-secondary);
                    text-decoration: none;
                    transition: color 0.2s ease;
                }
                
                .breadcrumb-link:hover {
                    color: var(--primary-color);
                }
                
                .breadcrumb-separator {
                    color: var(--text-secondary);
                    margin: 0 0.3rem;
                }
                
                .breadcrumb-current {
                    color: var(--text-primary);
                    font-weight: 500;
                }
                
                /* Page Navigation */
                .page-navigation {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin: 2rem 0;
                    padding: 1rem;
                    background: var(--bg-primary);
                    border: 1px solid var(--border-color);
                    border-radius: 8px;
                }
                
                .nav-link {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    color: var(--primary-color);
                    text-decoration: none;
                    font-weight: 500;
                    padding: 0.5rem 1rem;
                    border-radius: 6px;
                    transition: all 0.2s ease;
                }
                
                .nav-link:hover {
                    background: var(--bg-secondary);
                }
                
                .nav-link.disabled {
                    color: var(--text-secondary);
                    cursor: not-allowed;
                    opacity: 0.5;
                }
                
                .nav-link.disabled:hover {
                    background: none;
                }
            `);
            document.head.appendChild(link);
        }
        
        // Load non-critical CSS when browser is idle
        if (window.requestIdleCallback) {
            requestIdleCallback(loadNonCriticalCSS);
        } else {
            setTimeout(loadNonCriticalCSS, 1000);
        }
    </script>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <h1>日本のテックニュース速報</h1>
                    <p class="subtitle">最新のテクノロジーニュースと関連商品をお届け</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb Navigation -->
    <div id="breadcrumb"></div>

    <main class="container">
        <div class="update-info" id="update-info">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>

        <div class="filters" id="filters" style="display: none;">
            <div class="search-container">
                <input type="text" 
                       class="search-input" 
                       id="search-input" 
                       placeholder="記事を検索..." 
                       autocomplete="off"
                       spellcheck="false"
                       role="searchbox"
                       aria-label="記事検索"
                       data-lpignore="true">
                <div class="search-suggestions" id="search-suggestions"></div>
                <button class="search-clear" id="search-clear" aria-label="検索をクリア" style="display: none;">×</button>
            </div>
            <select class="filter-select" id="category-filter">
                <option value="">全カテゴリ</option>
            </select>
            <select class="filter-select" id="source-filter">
                <option value="">全ソース</option>
            </select>
        </div>

        <div class="main-layout">
            <div class="main-content">
                <div class="articles-grid" id="articles-container">
                    <div class="loading">
                        <div class="spinner"></div>
                    </div>
                </div>
                
                <div class="pagination" id="pagination" style="display: none;"></div>
                
                <!-- Page Navigation -->
                <div id="page-navigation" style="display: none;"></div>
            </div>
            
            <aside class="sidebar" id="sidebar" style="display: none;">
                <div class="category-list" id="categories">
                    <h3>カテゴリ</h3>
                    <ul class="sidebar-menu" id="category-menu"></ul>
                </div>
                
                
                <div class="affiliate-section" id="sources">
                    <h3>情報源</h3>
                    <ul class="sidebar-menu" id="sources-menu">
                        <!-- RSS情報源リスト -->
                        <li><a href="https://japan.cnet.com/" target="_blank" rel="noopener">CNET Japan</a> - ITニュース・レビュー</li>
                        <li><a href="https://www.publickey1.jp/" target="_blank" rel="noopener">Publickey</a> - エンタープライズIT</li>
                        <li><a href="https://www.itmedia.co.jp/" target="_blank" rel="noopener">ITmedia</a> - 総合ITメディア</li>
                        <li><a href="https://www.watch.impress.co.jp/" target="_blank" rel="noopener">Impress Watch</a> - デジタル機器情報</li>
                        <li><a href="https://gihyo.jp/" target="_blank" rel="noopener">技術評論社</a> - 技術書・開発情報</li>
                        <li><a href="https://jp.techcrunch.com/" target="_blank" rel="noopener">TechCrunch Japan</a> - スタートアップ</li>
                        <li><a href="https://news.mynavi.jp/" target="_blank" rel="noopener">マイナビニュース</a> - テクノロジー</li>
                        <li><a href="https://ascii.jp/" target="_blank" rel="noopener">ASCII.jp</a> - デジタル総合</li>
                        <li><a href="https://www.4gamer.net/" target="_blank" rel="noopener">4Gamer.net</a> - ゲーム情報</li>
                        <li><a href="https://diamond.jp/" target="_blank" rel="noopener">ダイヤモンド・オンライン</a> - ビジネス</li>
                        <li><a href="https://toyokeizai.net/" target="_blank" rel="noopener">東洋経済オンライン</a> - 経済</li>
                        <li><a href="https://newspicks.com/" target="_blank" rel="noopener">NewsPicks</a> - 経済メディア</li>
                        <li><a href="https://zenn.dev/" target="_blank" rel="noopener">Zenn</a> - エンジニア向け</li>
                        <li><a href="https://qiita.com/" target="_blank" rel="noopener">Qiita</a> - プログラミング</li>
                        <li><a href="https://iphone-mania.jp/" target="_blank" rel="noopener">iPhone Mania</a> - Apple情報</li>
                        <li><a href="https://taisy0.com/" target="_blank" rel="noopener">taisyo.com</a> - ガジェット</li>
                        <li><a href="https://www.sankei.com/" target="_blank" rel="noopener">産経新聞</a> - 経済ニュース</li>
                        <li><a href="https://news.yahoo.co.jp/" target="_blank" rel="noopener">Yahoo!ニュース</a> - IT総合</li>
                    </ul>
                </div>
            </aside>
        </div>
    </main>

    <script>
        // SPAアプリケーションのメインクラス
        class NewsApp {
            constructor() {
                this.data = null;
                this.currentPage = 1;
                this.articlesPerPage = 12;
                this.currentCategory = '';
                this.currentSource = '';
                this.currentSearch = '';
                this.filteredArticles = [];
                
                this.init();
            }
            
            async init() {
                try {
                    await this.loadData();
                    this.setupEventListeners();
                    this.setupRouter();
                    this.render();
                } catch (error) {
                    console.error('Error initializing app:', error);
                    this.showError('データの読み込みに失敗しました');
                }
            }
            
            async loadData() {
                const response = await fetch('articles.json');
                if (!response.ok) {
                    throw new Error('Failed to load articles');
                }
                this.data = await response.json();
                this.filteredArticles = this.data.articles;
                console.log('Data loaded:', this.data);
            }
            
            setupEventListeners() {
                // 検索機能
                const searchInput = document.getElementById('search-input');
                const searchClear = document.getElementById('search-clear');
                const searchSuggestions = document.getElementById('search-suggestions');
                
                let searchTimeout;
                let selectedSuggestionIndex = -1;
                
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.trim();
                    
                    // Show/hide clear button
                    searchClear.style.display = query ? 'block' : 'none';
                    
                    // Clear previous timeout
                    clearTimeout(searchTimeout);
                    
                    if (query.length >= 2) {
                        // Debounce search to avoid too many calls
                        searchTimeout = setTimeout(() => {
                            this.showSearchSuggestions(query);
                        }, 300);
                    } else {
                        this.hideSearchSuggestions();
                    }
                    
                    // Update current search and filter
                    this.currentSearch = query;
                    this.currentPage = 1;
                    this.filterArticles();
                    this.updateURL();
                });
                
                searchInput.addEventListener('keydown', (e) => {
                    const suggestions = searchSuggestions.querySelectorAll('.suggestion-item');
                    
                    if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        selectedSuggestionIndex = Math.min(selectedSuggestionIndex + 1, suggestions.length - 1);
                        this.highlightSuggestion(suggestions, selectedSuggestionIndex);
                    } else if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        selectedSuggestionIndex = Math.max(selectedSuggestionIndex - 1, -1);
                        this.highlightSuggestion(suggestions, selectedSuggestionIndex);
                    } else if (e.key === 'Enter') {
                        e.preventDefault();
                        if (selectedSuggestionIndex >= 0 && suggestions[selectedSuggestionIndex]) {
                            suggestions[selectedSuggestionIndex].click();
                        } else {
                            this.hideSearchSuggestions();
                        }
                    } else if (e.key === 'Escape') {
                        this.hideSearchSuggestions();
                        searchInput.blur();
                    }
                });
                
                searchClear.addEventListener('click', () => {
                    searchInput.value = '';
                    searchClear.style.display = 'none';
                    this.currentSearch = '';
                    this.currentPage = 1;
                    this.filterArticles();
                    this.updateURL();
                    this.hideSearchSuggestions();
                    searchInput.focus();
                });
                
                // Hide suggestions when clicking outside
                document.addEventListener('click', (e) => {
                    if (!e.target.closest('.search-container')) {
                        this.hideSearchSuggestions();
                    }
                });
                
                // カテゴリフィルター
                document.getElementById('category-filter').addEventListener('change', (e) => {
                    this.currentCategory = e.target.value;
                    this.currentPage = 1;
                    this.filterArticles();
                    this.updateURL();
                    
                    // サイドバーの表示も更新
                    this.renderSidebar();
                });
                
                // ソースフィルター
                document.getElementById('source-filter').addEventListener('change', (e) => {
                    this.currentSource = e.target.value;
                    this.currentPage = 1;
                    this.filterArticles();
                    this.updateURL();
                });
                
                // サイドバーカテゴリクリック
                document.getElementById('category-menu').addEventListener('click', (e) => {
                    if (e.target.tagName === 'A') {
                        e.preventDefault();
                        const category = e.target.dataset.category || '';
                        this.currentCategory = category;
                        this.currentPage = 1;
                        this.filterArticles();
                        this.updateURL();
                        
                        // ドロップダウンフィルタも同期更新
                        document.getElementById('category-filter').value = category;
                    }
                });
            }
            
            setupRouter() {
                window.addEventListener('popstate', () => {
                    this.parseURL();
                });
                this.parseURL();
            }
            
            parseURL() {
                const url = new URL(window.location);
                this.currentPage = parseInt(url.searchParams.get('page')) || 1;
                this.currentCategory = url.searchParams.get('category') || '';
                this.currentSource = url.searchParams.get('source') || '';
                
                if (this.data) {
                    this.filterArticles();
                    // フィルタドロップダウンも更新
                    if (document.getElementById('category-filter')) {
                        document.getElementById('category-filter').value = this.currentCategory;
                    }
                    if (document.getElementById('source-filter')) {
                        document.getElementById('source-filter').value = this.currentSource;
                    }
                }
            }
            
            updateURL() {
                const url = new URL(window.location);
                url.searchParams.set('page', this.currentPage);
                
                if (this.currentCategory) {
                    url.searchParams.set('category', this.currentCategory);
                } else {
                    url.searchParams.delete('category');
                }
                
                if (this.currentSource) {
                    url.searchParams.set('source', this.currentSource);
                } else {
                    url.searchParams.delete('source');
                }
                
                history.pushState(null, '', url);
            }
            
            filterArticles() {
                this.filteredArticles = this.data.articles.filter(article => {
                    const categoryMatch = !this.currentCategory || article.category === this.currentCategory;
                    const sourceMatch = !this.currentSource || article.source_name === this.currentSource;
                    
                    // Search functionality
                    let searchMatch = true;
                    if (this.currentSearch && this.currentSearch.length > 0) {
                        const searchLower = this.currentSearch.toLowerCase();
                        const titleMatch = article.title.toLowerCase().includes(searchLower);
                        const summaryMatch = article.summary && article.summary.toLowerCase().includes(searchLower);
                        const categorySearchMatch = article.category.toLowerCase().includes(searchLower);
                        const sourceSearchMatch = article.source_name.toLowerCase().includes(searchLower);
                        
                        searchMatch = titleMatch || summaryMatch || categorySearchMatch || sourceSearchMatch;
                    }
                    
                    return categoryMatch && sourceMatch && searchMatch;
                });
                
                this.render();
            }
            
            render() {
                this.renderBreadcrumb();
                this.renderUpdateInfo();
                this.renderFilters();
                this.renderSidebar();
                this.renderArticles();
                this.renderPagination();
                this.renderPageNavigation();
                this.updateDynamicMeta();
                
                // Show all elements
                document.getElementById('filters').style.display = 'flex';
                document.getElementById('sidebar').style.display = 'block';
            }
            
            updateDynamicMeta() {
                // Update page title and meta description based on current view
                let title = '日本のテックニュース速報 | 2時間ごとに更新される最新IT情報';
                let description = 'AI・機械学習、Apple製品、プログラミングなど最新テクノロジーニュースを2時間ごとに自動更新。18の主要IT情報源から厳選した記事と関連商品をお届け。';
                
                if (this.currentCategory) {
                    title = `${this.currentCategory}の最新ニュース | 日本のテックニュース速報`;
                    description = `${this.currentCategory}に関する最新テクノロジーニュースを2時間ごとに自動更新。専門的な情報と関連商品をお届けします。`;
                    
                    if (this.currentPage > 1) {
                        title += ` - ページ ${this.currentPage}`;
                        description += ` (ページ ${this.currentPage})`;
                    }
                }
                
                // Update document title
                document.title = title;
                
                // Update meta description
                let metaDesc = document.querySelector('meta[name="description"]');
                if (metaDesc) {
                    metaDesc.setAttribute('content', description);
                }
                
                // Update Open Graph tags
                let ogTitle = document.querySelector('meta[property="og:title"]');
                if (ogTitle) {
                    ogTitle.setAttribute('content', title);
                }
                
                let ogDesc = document.querySelector('meta[property="og:description"]');
                if (ogDesc) {
                    ogDesc.setAttribute('content', description);
                }
                
                // Update canonical URL
                let canonical = document.querySelector('link[rel="canonical"]');
                if (canonical) {
                    const currentUrl = new URL(window.location);
                    canonical.setAttribute('href', currentUrl.href);
                }
                
                // Update keywords based on current category
                if (this.currentCategory) {
                    let keywords = document.querySelector('meta[name="keywords"]');
                    if (keywords) {
                        const baseKeywords = 'テクノロジーニュース,IT速報,最新技術,ガジェット,自動更新,RSS';
                        keywords.setAttribute('content', `${this.currentCategory},${baseKeywords}`);
                    }
                }
            }
            
            renderBreadcrumb() {
                const breadcrumbContainer = document.getElementById('breadcrumb');
                if (!breadcrumbContainer) return;
                
                let breadcrumbHTML = `
                    <nav class="breadcrumb">
                        <div class="container">
                            <ol class="breadcrumb-list" itemscope itemtype="https://schema.org/BreadcrumbList">
                                <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                                    <a href="/" class="breadcrumb-link" itemprop="item">
                                        <span itemprop="name">ホーム</span>
                                    </a>
                                    <meta itemprop="position" content="1">
                                </li>
                `;
                
                if (this.currentCategory) {
                    breadcrumbHTML += `
                        <li class="breadcrumb-item">
                            <span class="breadcrumb-separator">›</span>
                        </li>
                        <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                            <a href="/?category=${encodeURIComponent(this.currentCategory)}" class="breadcrumb-link" itemprop="item">
                                <span itemprop="name">${this.currentCategory}</span>
                            </a>
                            <meta itemprop="position" content="2">
                        </li>
                    `;
                }
                
                if (this.currentPage > 1) {
                    breadcrumbHTML += `
                        <li class="breadcrumb-item">
                            <span class="breadcrumb-separator">›</span>
                        </li>
                        <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                            <span class="breadcrumb-current" itemprop="name">ページ ${this.currentPage}</span>
                            <meta itemprop="position" content="${this.currentCategory ? 3 : 2}">
                        </li>
                    `;
                }
                
                breadcrumbHTML += `
                            </ol>
                        </div>
                    </nav>
                `;
                
                breadcrumbContainer.innerHTML = breadcrumbHTML;
            }
            
            renderPageNavigation() {
                const totalPages = Math.ceil(this.filteredArticles.length / this.articlesPerPage);
                const navContainer = document.getElementById('page-navigation');
                
                if (!navContainer || totalPages <= 1) {
                    if (navContainer) navContainer.style.display = 'none';
                    return;
                }
                
                navContainer.style.display = 'flex';
                
                const prevPage = this.currentPage - 1;
                const nextPage = this.currentPage + 1;
                
                let navHTML = '<div class="page-navigation">';
                
                // Previous page link
                if (prevPage >= 1) {
                    navHTML += `
                        <a href="#" class="nav-link" data-page="${prevPage}">
                            <span>←</span>
                            <span>前のページ</span>
                        </a>
                    `;
                } else {
                    navHTML += `
                        <span class="nav-link disabled">
                            <span>←</span>
                            <span>前のページ</span>
                        </span>
                    `;
                }
                
                // Current page info
                navHTML += `
                    <span class="page-info">
                        ページ ${this.currentPage} / ${totalPages}
                    </span>
                `;
                
                // Next page link
                if (nextPage <= totalPages) {
                    navHTML += `
                        <a href="#" class="nav-link" data-page="${nextPage}">
                            <span>次のページ</span>
                            <span>→</span>
                        </a>
                    `;
                } else {
                    navHTML += `
                        <span class="nav-link disabled">
                            <span>次のページ</span>
                            <span>→</span>
                        </span>
                    `;
                }
                
                navHTML += '</div>';
                navContainer.innerHTML = navHTML;
                
                // Add event listeners for navigation
                navContainer.querySelectorAll('a[data-page]').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.currentPage = parseInt(e.currentTarget.dataset.page);
                        this.updateURL();
                        this.render();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                });
            }
            
            renderUpdateInfo() {
                const updateInfo = document.getElementById('update-info');
                updateInfo.innerHTML = `
                    <p><strong>最終更新:</strong> ${this.data.meta.last_updated}</p>
                    <p>✨ 2時間ごとに自動更新で最新IT情報をお届けします</p>
                    <p><strong>RSS監視サイト:</strong> ${this.data.meta.total_feeds}サイト</p>
                    <p><strong>更新間隔:</strong> 2時間ごとに自動更新（24時間365日）</p>
                `;
            }
            
            renderFilters() {
                // カテゴリフィルター
                const categoryFilter = document.getElementById('category-filter');
                categoryFilter.innerHTML = '<option value="">全カテゴリ</option>';
                this.data.categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat.name;
                    option.textContent = `${cat.name} (${cat.count})`;
                    if (cat.name === this.currentCategory) option.selected = true;
                    categoryFilter.appendChild(option);
                });
                
                // ソースフィルター
                const sourceFilter = document.getElementById('source-filter');
                sourceFilter.innerHTML = '<option value="">全ソース</option>';
                this.data.sources.forEach(source => {
                    const option = document.createElement('option');
                    option.value = source.name;
                    option.textContent = `${source.name} (${source.count})`;
                    if (source.name === this.currentSource) option.selected = true;
                    sourceFilter.appendChild(option);
                });
            }
            
            renderSidebar() {
                // カテゴリメニュー
                const categoryMenu = document.getElementById('category-menu');
                categoryMenu.innerHTML = '';
                
                // 「全カテゴリ」オプションを追加
                const allCategoriesLi = document.createElement('li');
                allCategoriesLi.innerHTML = `
                    <a href="#" data-category="" ${!this.currentCategory ? 'class="active"' : ''}>
                        全カテゴリ <span class="category-count">(${this.data.articles.length})</span>
                    </a>
                `;
                categoryMenu.appendChild(allCategoriesLi);
                
                // 各カテゴリオプション
                this.data.categories.forEach(cat => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <a href="#" data-category="${cat.name}" ${cat.name === this.currentCategory ? 'class="active"' : ''}>
                            ${cat.name} <span class="category-count">(${cat.count})</span>
                        </a>
                    `;
                    categoryMenu.appendChild(li);
                });
                
                // ソースメニュー
                const sourcesMenu = document.getElementById('sources-menu');
                sourcesMenu.innerHTML = '';
                this.data.sources.forEach(source => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <a href="${source.url}" target="_blank" rel="noopener">
                            ${source.name} <span class="source-count">(${source.count})</span>
                        </a>
                    `;
                    sourcesMenu.appendChild(li);
                });
                
            }
            
            renderArticles() {
                const container = document.getElementById('articles-container');
                const startIndex = (this.currentPage - 1) * this.articlesPerPage;
                const endIndex = startIndex + this.articlesPerPage;
                const pageArticles = this.filteredArticles.slice(startIndex, endIndex);
                
                if (pageArticles.length === 0) {
                    container.innerHTML = '<p>該当する記事が見つかりません。</p>';
                    return;
                }
                
                container.innerHTML = pageArticles.map(article => `
                    <article class="article-card" itemscope itemtype="https://schema.org/NewsArticle">
                        <div class="article-meta">
                            <time class="article-date" datetime="${article.published_at}" itemprop="datePublished">${article.published_relative}</time>
                            <span class="category-tag" itemprop="articleSection">${article.category}</span>
                            <span class="reading-time">📖 ${this.calculateReadingTime(article)}</span>
                            <span class="article-source" itemprop="author" itemscope itemtype="https://schema.org/Organization">
                                <span itemprop="name">${article.source_name}</span>
                            </span>
                        </div>
                        
                        ${article.image_url ? `
                        <div class="article-image-container">
                            <picture>
                                <source data-srcset="${this.generateWebPUrl(article.image_url)}" type="image/webp">
                                <img class="article-image lazy-load" 
                                     data-src="${article.image_url}" 
                                     alt="${this.generateDynamicAlt(article)}"
                                     loading="lazy"
                                     decoding="async"
                                     itemprop="image"
                                     width="300" 
                                     height="200">
                            </picture>
                            <noscript>
                                <picture>
                                    <source srcset="${this.generateWebPUrl(article.image_url)}" type="image/webp">
                                    <img src="${article.image_url}" alt="${this.generateDynamicAlt(article)}" itemprop="image">
                                </picture>
                            </noscript>
                        </div>
                        ` : ''}
                        
                        <h2 class="article-title" itemprop="headline">
                            <a href="${article.link || article.original_link}" 
                               target="_blank" 
                               rel="noopener"
                               itemprop="url">
                                ${article.title}
                            </a>
                        </h2>
                        
                        ${article.summary ? `<p class="article-summary" itemprop="description">${article.summary}</p>` : ''}
                        
                        <meta itemprop="dateModified" content="${article.published_at}">
                        <div itemprop="publisher" itemscope itemtype="https://schema.org/NewsMediaOrganization" style="display:none;">
                            <span itemprop="name">日本のテックニュース速報</span>
                            <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
                                <meta itemprop="url" content="https://toy1021.github.io/affiliate2/favicon.ico">
                            </div>
                        </div>
                        
                        ${this.renderAffiliateLinks(article)}
                        ${this.renderRelatedArticles(article)}
                    </article>
                `).join('');
                
                // Generate structured data for articles
                this.generateArticleStructuredData(pageArticles);
                
                // Initialize optimized image loading
                this.optimizeImageLoading();
            }
            
            generateArticleStructuredData(articles) {
                // Remove existing article structured data
                const existingStructuredData = document.querySelectorAll('script[data-article-structured-data]');
                existingStructuredData.forEach(script => script.remove());
                
                // Generate enhanced NewsArticle structured data for each article
                articles.forEach((article, index) => {
                    const newsArticleData = {
                        "@context": "https://schema.org",
                        "@type": "NewsArticle",
                        "@id": article.link || article.original_link,
                        "headline": article.title,
                        "description": article.summary || article.title,
                        "url": article.link || article.original_link,
                        "datePublished": article.published_at,
                        "dateModified": article.published_at,
                        "author": {
                            "@type": "Organization",
                            "name": article.source_name,
                            "url": article.source_url || "https://toy1021.github.io/affiliate2/"
                        },
                        "publisher": {
                            "@type": "NewsMediaOrganization",
                            "name": "日本のテックニュース速報",
                            "url": "https://toy1021.github.io/affiliate2/",
                            "logo": {
                                "@type": "ImageObject",
                                "url": "https://toy1021.github.io/affiliate2/favicon.ico",
                                "width": 16,
                                "height": 16
                            }
                        },
                        "articleSection": article.category,
                        "articleBody": article.summary || article.title,
                        "keywords": [article.category, "テクノロジー", "ニュース", "IT", "日本"],
                        "inLanguage": "ja",
                        "mainEntityOfPage": {
                            "@type": "WebPage",
                            "@id": article.link || article.original_link,
                            "url": article.link || article.original_link
                        },
                        "isPartOf": {
                            "@type": "WebSite",
                            "name": "日本のテックニュース速報",
                            "url": "https://toy1021.github.io/affiliate2/"
                        },
                        "genre": ["Technology", "News", "IT", article.category],
                        "about": {
                            "@type": "Thing",
                            "name": article.category,
                            "description": `${article.category}に関するテクノロジーニュース`
                        }
                    };
                    
                    // Add image if available
                    if (article.image_url) {
                        newsArticleData.image = {
                            "@type": "ImageObject",
                            "url": article.image_url,
                            "caption": article.title
                        };
                    }
                    
                    // Create and append NewsArticle structured data
                    const newsScript = document.createElement('script');
                    newsScript.type = 'application/ld+json';
                    newsScript.setAttribute('data-article-structured-data', 'true');
                    newsScript.textContent = JSON.stringify(newsArticleData, null, 2);
                    document.head.appendChild(newsScript);
                });
                
                // Generate ItemList structured data for current page articles
                const itemListData = {
                    "@context": "https://schema.org",
                    "@type": "ItemList",
                    "name": "テックニュース記事一覧",
                    "description": `${this.currentCategory ? this.currentCategory + 'カテゴリの' : ''}最新テクノロジーニュース記事一覧 - ページ${this.currentPage}`,
                    "numberOfItems": articles.length,
                    "url": window.location.href,
                    "itemListElement": articles.map((article, index) => ({
                        "@type": "ListItem",
                        "position": index + 1,
                        "item": {
                            "@type": "NewsArticle",
                            "@id": article.link || article.original_link,
                            "headline": article.title,
                            "description": article.summary || article.title,
                            "url": article.link || article.original_link,
                            "datePublished": article.published_at,
                            "author": {
                                "@type": "Organization",
                                "name": article.source_name
                            },
                            "publisher": {
                                "@type": "NewsMediaOrganization",
                                "name": "日本のテックニュース速報"
                            },
                            "articleSection": article.category
                        }
                    }))
                };
                
                // Add BreadcrumbList structured data for category navigation
                if (this.currentCategory) {
                    const breadcrumbData = {
                        "@context": "https://schema.org",
                        "@type": "BreadcrumbList",
                        "itemListElement": [
                            {
                                "@type": "ListItem",
                                "position": 1,
                                "name": "ホーム",
                                "item": "https://toy1021.github.io/affiliate2/"
                            },
                            {
                                "@type": "ListItem",
                                "position": 2,
                                "name": this.currentCategory,
                                "item": `https://toy1021.github.io/affiliate2/?category=${encodeURIComponent(this.currentCategory)}`
                            }
                        ]
                    };
                    
                    if (this.currentPage > 1) {
                        breadcrumbData.itemListElement.push({
                            "@type": "ListItem",
                            "position": 3,
                            "name": `ページ ${this.currentPage}`,
                            "item": window.location.href
                        });
                    }
                    
                    const breadcrumbScript = document.createElement('script');
                    breadcrumbScript.type = 'application/ld+json';
                    breadcrumbScript.setAttribute('data-article-structured-data', 'true');
                    breadcrumbScript.textContent = JSON.stringify(breadcrumbData, null, 2);
                    document.head.appendChild(breadcrumbScript);
                }
                
                // Create and append the structured data script
                const script = document.createElement('script');
                script.type = 'application/ld+json';
                script.setAttribute('data-article-structured-data', 'true');
                script.textContent = JSON.stringify(itemListData, null, 2);
                document.head.appendChild(script);
            }
            
            renderAffiliateLinks(article) {
                if (!article.affiliate_links || !article.has_affiliate_links) {
                    return '';
                }
                
                let html = '<div class="affiliate-links">';
                
                if (article.affiliate_links.keyword_based && article.affiliate_links.keyword_based.length > 0) {
                    html += '<div class="affiliate-links-compact">';
                    article.affiliate_links.keyword_based.slice(0, 2).forEach(link => {
                        html += `<a href="${link.url}" class="affiliate-link ${link.platform}-link" target="_blank" rel="noopener sponsored">${link.display_text}</a>`;
                    });
                    html += '</div>';
                }
                
                if (article.affiliate_links.category_recommendations && article.affiliate_links.category_recommendations.length > 0) {
                    html += '<div class="affiliate-links-compact">';
                    article.affiliate_links.category_recommendations.slice(0, 1).forEach(link => {
                        html += `<a href="${link.url}" class="affiliate-link ${link.platform}-link" target="_blank" rel="noopener sponsored">${link.display_text}</a>`;
                    });
                    html += '</div>';
                }
                
                html += '</div>';
                return html;
            }
            
            generateRelatedArticles(currentArticle, allArticles, maxResults = 3) {
                // Calculate similarity scores based on category, keywords, and content
                const relatedScores = allArticles
                    .filter(article => article.link !== currentArticle.link)
                    .map(article => {
                        let score = 0;
                        
                        // Category match (highest weight)
                        if (article.category === currentArticle.category) {
                            score += 50;
                        }
                        
                        // Source similarity
                        if (article.source_name === currentArticle.source_name) {
                            score += 20;
                        }
                        
                        // Title keyword similarity
                        const currentWords = currentArticle.title.toLowerCase().split(/\s+/);
                        const articleWords = article.title.toLowerCase().split(/\s+/);
                        const commonWords = currentWords.filter(word => 
                            word.length > 3 && articleWords.includes(word)
                        );
                        score += commonWords.length * 5;
                        
                        // Summary keyword similarity
                        if (currentArticle.summary && article.summary) {
                            const currentSummaryWords = currentArticle.summary.toLowerCase().split(/\s+/);
                            const articleSummaryWords = article.summary.toLowerCase().split(/\s+/);
                            const commonSummaryWords = currentSummaryWords.filter(word => 
                                word.length > 3 && articleSummaryWords.includes(word)
                            );
                            score += commonSummaryWords.length * 2;
                        }
                        
                        // Recency bonus (newer articles get slight boost)
                        const daysDiff = Math.abs(
                            new Date(article.published_at) - new Date(currentArticle.published_at)
                        ) / (1000 * 60 * 60 * 24);
                        if (daysDiff < 1) score += 10;
                        else if (daysDiff < 7) score += 5;
                        
                        return { article, score };
                    })
                    .filter(item => item.score > 10) // Minimum relevance threshold
                    .sort((a, b) => b.score - a.score)
                    .slice(0, maxResults);
                
                return relatedScores.map(item => item.article);
            }
            
            renderRelatedArticles(article) {
                const relatedArticles = this.generateRelatedArticles(article, this.data.articles);
                
                if (relatedArticles.length === 0) {
                    return '';
                }
                
                return `
                    <div class="related-articles">
                        <h3 class="related-title">関連記事</h3>
                        <div class="related-list">
                            ${relatedArticles.map(related => `
                                <a href="${related.link || related.original_link}" 
                                   class="related-article-link" 
                                   target="_blank" 
                                   rel="noopener">
                                    <div class="related-article">
                                        <span class="related-category">${related.category}</span>
                                        <h4 class="related-article-title">${related.title}</h4>
                                        <span class="related-source">${related.source_name}</span>
                                    </div>
                                </a>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            generateDynamicMetaDescription(article) {
                // Generate optimized meta description (max 160 characters)
                let description = '';
                
                if (article.summary) {
                    description = article.summary.substring(0, 140);
                    if (article.summary.length > 140) {
                        description += '...';
                    }
                } else {
                    description = `${article.category}に関する最新ニュース - ${article.title.substring(0, 100)}`;
                    if (article.title.length > 100) {
                        description += '...';
                    }
                }
                
                // Add category and source for SEO
                description += ` | ${article.category} | ${article.source_name}`;
                
                return description.substring(0, 160);
            }
            
            generateDynamicAlt(article) {
                // Generate descriptive alt text for accessibility and SEO
                const category = article.category || 'テクノロジー';
                const source = article.source_name || 'ニュース';
                
                // Extract key terms from title
                const titleWords = article.title.split(/\s+/).slice(0, 8).join(' ');
                
                return `${category}ニュース: ${titleWords} - ${source}より`;
            }
            
            calculateReadingTime(article) {
                // Calculate estimated reading time based on title, summary, and average reading speed
                const wordsPerMinute = 400; // Japanese reading speed (chars per minute)
                const titleLength = (article.title || '').length;
                const summaryLength = (article.summary || '').length;
                const totalChars = titleLength + summaryLength;
                
                // Minimum 1 minute, maximum 10 minutes for news articles
                const estimatedMinutes = Math.max(1, Math.min(10, Math.ceil(totalChars / wordsPerMinute)));
                
                if (estimatedMinutes === 1) {
                    return '1分で読める';
                } else {
                    return `約${estimatedMinutes}分で読める`;
                }
            }
            
            showSearchSuggestions(query) {
                const suggestions = this.generateSearchSuggestions(query);
                const suggestionsContainer = document.getElementById('search-suggestions');
                
                if (suggestions.length === 0) {
                    this.hideSearchSuggestions();
                    return;
                }
                
                const suggestionsHTML = suggestions.map(suggestion => `
                    <div class="suggestion-item" data-suggestion="${suggestion.text}">
                        ${suggestion.text}
                        <span class="suggestion-category">${suggestion.category || ''}</span>
                    </div>
                `).join('');
                
                suggestionsContainer.innerHTML = suggestionsHTML;
                suggestionsContainer.style.display = 'block';
                
                // Add click listeners to suggestions
                suggestionsContainer.querySelectorAll('.suggestion-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const suggestion = item.dataset.suggestion;
                        document.getElementById('search-input').value = suggestion;
                        this.currentSearch = suggestion;
                        this.currentPage = 1;
                        this.filterArticles();
                        this.updateURL();
                        this.hideSearchSuggestions();
                    });
                });
            }
            
            hideSearchSuggestions() {
                const suggestionsContainer = document.getElementById('search-suggestions');
                suggestionsContainer.style.display = 'none';
                suggestionsContainer.innerHTML = '';
            }
            
            highlightSuggestion(suggestions, index) {
                suggestions.forEach((suggestion, i) => {
                    suggestion.classList.toggle('highlighted', i === index);
                });
            }
            
            generateSearchSuggestions(query) {
                const queryLower = query.toLowerCase();
                const suggestions = new Set();
                const maxSuggestions = 5;
                
                // Search in titles and add unique suggestions
                this.data.articles.forEach(article => {
                    const title = article.title.toLowerCase();
                    const category = article.category;
                    const source = article.source_name;
                    
                    // Title-based suggestions
                    if (title.includes(queryLower) && suggestions.size < maxSuggestions) {
                        const words = article.title.split(/\s+/);
                        const relevantWords = words.filter(word => 
                            word.toLowerCase().includes(queryLower) && word.length > 2
                        );
                        
                        relevantWords.forEach(word => {
                            if (suggestions.size < maxSuggestions) {
                                suggestions.add({
                                    text: word,
                                    category: category,
                                    type: 'keyword'
                                });
                            }
                        });
                    }
                    
                    // Category suggestions
                    if (category.toLowerCase().includes(queryLower) && suggestions.size < maxSuggestions) {
                        suggestions.add({
                            text: category,
                            category: 'カテゴリ',
                            type: 'category'
                        });
                    }
                    
                    // Source suggestions
                    if (source.toLowerCase().includes(queryLower) && suggestions.size < maxSuggestions) {
                        suggestions.add({
                            text: source,
                            category: 'ソース',
                            type: 'source'
                        });
                    }
                });
                
                return Array.from(suggestions).slice(0, maxSuggestions);
            }
            
            generateWebPUrl(originalUrl) {
                // For now, return original URL
                // In production, you could use a service like Cloudinary or implement server-side WebP conversion
                if (!originalUrl) return '';
                
                // Check if the URL already supports WebP
                if (originalUrl.includes('cloudinary.com') || originalUrl.includes('imagekit.io')) {
                    // Add WebP format parameter for supported services
                    const separator = originalUrl.includes('?') ? '&' : '?';
                    return `${originalUrl}${separator}f_webp,q_auto`;
                }
                
                // For other URLs, return original (could be enhanced with server-side conversion)
                return originalUrl;
            }
            
            optimizeImageLoading() {
                // Enhanced lazy loading with WebP support
                if ('IntersectionObserver' in window) {
                    const imageObserver = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const img = entry.target;
                                const picture = img.parentElement;
                                
                                // Handle picture element with WebP source
                                if (picture.tagName === 'PICTURE') {
                                    const sources = picture.querySelectorAll('source[data-srcset]');
                                    sources.forEach(source => {
                                        if (source.dataset.srcset) {
                                            source.srcset = source.dataset.srcset;
                                            source.removeAttribute('data-srcset');
                                        }
                                    });
                                }
                                
                                // Load the main image
                                if (img.dataset.src) {
                                    img.src = img.dataset.src;
                                    img.removeAttribute('data-src');
                                }
                                
                                img.classList.remove('lazy-load');
                                img.classList.add('loaded');
                                observer.unobserve(img);
                            }
                        });
                    }, {
                        rootMargin: '50px 0px',
                        threshold: 0.01
                    });
                    
                    document.querySelectorAll('.lazy-load').forEach(img => {
                        imageObserver.observe(img);
                    });
                }
            }
            
            renderPagination() {
                const pagination = document.getElementById('pagination');
                const totalPages = Math.ceil(this.filteredArticles.length / this.articlesPerPage);
                
                if (totalPages <= 1) {
                    pagination.style.display = 'none';
                    return;
                }
                
                pagination.style.display = 'flex';
                
                let html = '';
                
                // Previous button
                if (this.currentPage > 1) {
                    html += `<a href="#" class="pagination-btn" data-page="${this.currentPage - 1}">← 前</a>`;
                } else {
                    html += `<span class="pagination-btn disabled">← 前</span>`;
                }
                
                // Page numbers (show up to 5 pages around current page)
                const startPage = Math.max(1, this.currentPage - 2);
                const endPage = Math.min(totalPages, this.currentPage + 2);
                
                // First page if not in range
                if (startPage > 1) {
                    html += `<a href="#" class="pagination-btn" data-page="1">1</a>`;
                    if (startPage > 2) {
                        html += `<span class="pagination-btn disabled">...</span>`;
                    }
                }
                
                // Page numbers in range
                for (let i = startPage; i <= endPage; i++) {
                    if (i === this.currentPage) {
                        html += `<span class="pagination-btn active">${i}</span>`;
                    } else {
                        html += `<a href="#" class="pagination-btn" data-page="${i}">${i}</a>`;
                    }
                }
                
                // Last page if not in range
                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        html += `<span class="pagination-btn disabled">...</span>`;
                    }
                    html += `<a href="#" class="pagination-btn" data-page="${totalPages}">${totalPages}</a>`;
                }
                
                // Next button
                if (this.currentPage < totalPages) {
                    html += `<a href="#" class="pagination-btn" data-page="${this.currentPage + 1}">次 →</a>`;
                } else {
                    html += `<span class="pagination-btn disabled">次 →</span>`;
                }
                
                pagination.innerHTML = html;
                
                // Add event listeners
                pagination.querySelectorAll('a[data-page]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.currentPage = parseInt(e.target.dataset.page);
                        this.updateURL();
                        this.renderArticles();
                        this.renderPagination();
                        this.renderSidebar();
                        window.scrollTo(0, 0);
                    });
                });
            }
            
            showError(message) {
                document.getElementById('articles-container').innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--error-color);">
                        <p>${message}</p>
                    </div>
                `;
            }
        }
        
        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new NewsApp();
        });
        
        // Core Web Vitals monitoring
        function measureCoreWebVitals() {
            // First Contentful Paint (FCP)
            if ('performance' in window && 'getEntriesByType' in performance) {
                const paintEntries = performance.getEntriesByType('paint');
                const fcpEntry = paintEntries.find(entry => entry.name === 'first-contentful-paint');
                if (fcpEntry) {
                    console.log('FCP:', fcpEntry.startTime);
                    gtag('event', 'timing_complete', {
                        name: 'FCP',
                        value: Math.round(fcpEntry.startTime)
                    });
                }
            }
            
            // Largest Contentful Paint (LCP)
            if ('PerformanceObserver' in window) {
                try {
                    const lcpObserver = new PerformanceObserver((list) => {
                        const entries = list.getEntries();
                        const lastEntry = entries[entries.length - 1];
                        console.log('LCP:', lastEntry.startTime);
                        gtag('event', 'timing_complete', {
                            name: 'LCP',
                            value: Math.round(lastEntry.startTime)
                        });
                    });
                    lcpObserver.observe({ entryTypes: ['largest-contentful-paint'] });
                    
                    // First Input Delay (FID)
                    const fidObserver = new PerformanceObserver((list) => {
                        const entries = list.getEntries();
                        entries.forEach(entry => {
                            console.log('FID:', entry.processingStart - entry.startTime);
                            gtag('event', 'timing_complete', {
                                name: 'FID',
                                value: Math.round(entry.processingStart - entry.startTime)
                            });
                        });
                    });
                    fidObserver.observe({ entryTypes: ['first-input'] });
                } catch (e) {
                    console.log('Performance monitoring not supported');
                }
            }
        }
        
        // Initialize performance monitoring
        if (document.readyState === 'complete') {
            measureCoreWebVitals();
        } else {
            window.addEventListener('load', measureCoreWebVitals);
        }
        
        // Service Worker registration for improved performance (optional)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
        
        // Add keyboard shortcuts for better UX
        document.addEventListener('keydown', (e) => {
            // Alt + Home: Go to top
            if (e.altKey && e.key === 'Home') {
                window.scrollTo({top: 0, behavior: 'smooth'});
                e.preventDefault();
            }
            
            // Alt + R: Refresh data
            if (e.altKey && e.key === 'r') {
                location.reload();
                e.preventDefault();
            }
        });
        
        // Affiliate link styles are now loaded with non-critical CSS above
    </script>
</body>
</html>